---
title:      "数据挖掘笔记（1）"
date:       2018-07-26 16:39:53
tags:
- 数据挖掘
- Python
---

这里是关于集体智慧编程这本书前两章（2,3）的笔记

 

## 第二章：提供推荐
 思路为如何去寻找紧密相关的事物，应用类似于生活中的商品推荐。
 
书中用**字典存储**用户对不同影片的评分，基于欧氏距离或皮尔逊相关度可**求不同人的相似度**，这样可找出**与自己品味相似**的人（为评论者打分），也可基于这些相似度和他们对其他电影的评分得到该**推荐给自己的商品**（基于用户推荐）。此外，反过来可以找出与某一商品类似的商品。

可以**构造物品相似度数据集**（基于物品的过滤），可事前构造并在之后重复使用（需要定时更新），只要输入某一用户的总体评价情况，就能得出推荐商品。

#### 遇到的小问题：
在Python中，一个.py文件就称之为一个模块（Module）。包括内置模块和第三方模块
为了避免模块名冲突，Python又引入了按目录来组织模块的方法，称为包（Package）。  
import xx导入模块对于模块中的函数，每次调用需要“模块.函数”来用。
from xx import fun 直接导入模块中某函数，直接fun()就可用。
{% qnimg 7/4.png %}
[图片来源](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014318447437605e90206e261744c08630a836851f5183000)

遇到UnicodeDecodeError: 'gbk' codec can't decode byte 0xbf in position 2: illegal multibyte sequence
一般要注意修改文件的编码。

## 第三章发现群组（上）
#### 博客单词计数：
通过RSS提取出信息，再**利用正则表达式**替换掉html标记，通过如上**获得了数据集**，挑选出**有价值的单词列表**（这里是以出现某单词的博客数目作为衡量，如“the”，每个博客都会出现，因而没必要研究），再将结果**写入文件中**。
{% qnimg 7/1.png %}
#### 聚类分析：
**分级聚类**
先从文件中读取数据，通过皮尔逊相似度**计算不同博客之间的相似度**，进行**分级聚类**，随后我们可以把聚类情况**画图**，通过获取节点的高度和误差，可以使得出的图兼具美观与实际意义（这里水平线代表误差即差异，垂直线是为了构图规整）
{% qnimg 7/2.png %}
换个思路，我们将数据矩阵转置，可分析单词之间的相似度。不过关于聚类有一点很重要:当数据项的数量比变量多的时候,出现无意义聚类的可能性就会增加。由于单词的数量比博客多很多,因此我们会发现,在博客聚类中出现的模式比单词聚类更为合理

此外k-means也可应用，对于“是否”之类的可以用tanimoto衡量距离。

#### 遇到的小问题：
安装PIL时老报错，显示pip的问题，后经查阅：PIL只支持到Python 2.7。Pillow是PIL的一个派生分支，所以可以安装pillow
安装beautifulsoup也出现了问题，一般此类问题首要考虑是不是版本的问题、有没有新的模块，我这里就是改为安装bs4就成功了，不过urllib3和urllib2、urllib的区别较大，在python3中urllib2是变为urllib.request和urllib.error。
{% qnimg 7/3.png %}

python解释器查找包的顺序
{% qnimg 7/5.png %}
[图片来源](http://sanyuesha.com/2016/05/28/python-module-path-find/)



    源码链接：https://github.com/nick-stu/ProgrammingCollectiveIntelligence
